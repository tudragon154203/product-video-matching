# ============================================================================
# Video Crawler Service Configuration
# ============================================================================

# == File Storage Paths ==
# Root directory where downloaded videos are stored (relative to service directory)
# This should be a dedicated directory to avoid mixing with service code
VIDEO_REL_PATH=./videos

# Directory where extracted keyframes are stored (relative to service directory)
# Keyframes are extracted from videos for analysis and processing
KEYFRAME_REL_PATH=./keyframes

# == Crawler Settings ==
# Number of videos to search for per (platform, query)
# Controls how many results to fetch from each platform for each search query
NUM_VIDEOS=10

# Number of concurrent video downloads
# Higher values = faster downloads but more memory/CPU usage
# Recommended: 3-10 depending on server resources
NUM_PARALLEL_DOWNLOADS=5

# == Logging Configuration ==
# Logging level: DEBUG, INFO, WARNING, ERROR
# DEBUG: Detailed logging for development
# INFO: Standard logging for production
# WARNING: Only warnings and errors
# ERROR: Only errors
LOG_LEVEL=INFO

# == Proxy Configuration ==
# Set to true if you need to use a private proxy for video crawling
# Recommended for high-volume crawling to avoid rate limiting
USE_PRIVATE_PROXY=false

# Private SOCKS5 proxy connection string
# Format: socks5://host:port or socks5://username:password@host:port
# Only used when USE_PRIVATE_PROXY=true
PRIVATE_SOCKS5_PROXY=

# == Video Cleanup Settings ==
# Automatically clean up old videos to save disk space
CLEANUP_OLD_VIDEOS=true

# Number of days to retain downloaded videos
# Videos older than this will be automatically deleted if CLEANUP_OLD_VIDEOS=true
# Recommended: 3-30 days depending on available disk space
VIDEO_RETENTION_DAYS=7

# == TikTok Crawler Settings ==
# Host address for the TikTok crawler microservice
# For local development: host.docker.internal (Docker on Windows/Mac)
# For local development: localhost (Docker on Linux)  
# For production: the actual hostname or IP address
TIKTOK_CRAWL_HOST=host.docker.internal

# Port for the TikTok crawler microservice
# This should match the port configured in docker-compose.dev.yml
TIKTOK_CRAWL_HOST_PORT=5680

# TikTok download strategy options:
# yt-dlp: Use yt-dlp library for downloading (most reliable)
# scrapling-api: Use Scrapling API service (robust alternative)
# tikwm: Use TikTok video downloader API (fast and reliable)
# 
# Note: The default strategy is "scrapling-api" to ensure compatibility with the system
TIKTOK_DOWNLOAD_STRATEGY=scrapling-api

# == YouTube Settings ==
# Maximum video duration to download (in seconds)
# Videos longer than this will be skipped
# Set to 0 for no limit
MAX_VIDEO_DURATION_SECONDS=0

# Minimum video duration to download (in seconds)
# Videos shorter than this will be skipped
MIN_VIDEO_DURATION_SECONDS=0

# == Rate Limiting ==
# Delay between API requests to avoid rate limiting
# Units: seconds
API_REQUEST_DELAY=1.0

# Maximum number of retries for failed video downloads
MAX_DOWNLOAD_RETRIES=3

# == Performance Settings ==
# Maximum size of video file to download (in MB)
# Larger files consume more disk space and processing time
# Set to 0 for no limit
MAX_VIDEO_MB=0

# Number of keyframes to extract per video
# More keyframes = better analysis coverage but more processing time
NUM_KEYFRAMES_PER_VIDEO=10

# == Advanced Settings ==
# User agent string for HTTP requests
# Custom user agents are recommended to avoid detection
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# Enable/disable video metadata extraction
# When enabled, video title, description, etc. will be extracted
EXTRACT_METADATA=true

# Keyframe extraction quality (percentage of original resolution)
# Valid range: 10-100 (higher = better quality but larger files)
KEYFRAME_QUALITY_PERCENT=75