# Product Segmentor Service Configuration

# Segmentation Model Configuration
FOREGROUND_SEG_MODEL_NAME=briaai/RMBG-2.0
PEOPLE_SEG_MODEL_NAME=yolo11l-seg
HF_TOKEN=hf_xxx_your_personal_access_token # only needed for gated-repo
# Note: PEOPLE_SEG_MODEL_CACHE is retired - now using global MODEL_CACHE

# Processing Configuration
BATCH_TIMEOUT_SECONDS=1800
MASK_QUALITY=0.8

# GPU Memory Management
RETRY_ON_OOM=true  # Enable automatic retry on CUDA out-of-memory errors
MAX_OOM_RETRIES=3  # Number of retry attempts with exponential backoff
GPU_MEMORY_THRESHOLD=0.85  # Block new tasks when GPU memory exceeds 85%
MIN_CONCURRENT_IMAGES=1  # Minimum concurrent processing (never go below this)
MAX_CONCURRENT_IMAGES=3  # Adjust based on GPU size: 8GB=2-3, 16GB=4-5, 24GB=8-10

# File Paths relative to DATA_ROOT
FOREGROUND_MASK_REL_PATH=./masks_foreground
PEOPLE_MASK_REL_PATH=./masks_people
PRODUCT_MASK_REL_PATH=./masks_product

LOG_LEVEL=INFO
